<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="index/html; charset=utf-8" />
<script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>	
  <script src="https://unpkg.com/aframe-controller-cursor-component@0.2.7/dist/aframe-controller-cursor-component.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@^4.0.0/dist/aframe-event-set-component.min.js"></script>
 
 <!-- <script src="https://unpkg.com/aframe-physics-system@1.4.0/dist/aframe-physics-system.min.js"></script> 
<script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
    <script src="{{ url_for('static',filename='js/aframe-extras.min.js') }}"></script>
      <script src="{{ url_for('static',filename='js/aframe-environment-component.min.js') }}"></script>
  
 -->
</head>
 <script>
        AFRAME.registerComponent('handle-events', {
            init: function() {
                var el = this.el; // <a-box>
                el.addEventListener('triggerdown', function() {
                    el.setAttribute('color', '#24CAFF');
                });
                el.addEventListener('triggerup', function() {
                    el.setAttribute('color', '#EF2D5E');
                })
            }
        });
    </script>
     <script>
        AFRAME.registerComponent('change-color', {
            init: function() {
                var el = this.el; // <a-box>
                el.addEventListener('mouseenter', function() {
                    el.setAttribute('color', '#24CAFF');
                });
                el.addEventListener('mouseleave', function() {
                    el.setAttribute('color', '#EF2D5E');
                })
            }
        });
    </script>
   
   <!--
<script>
    AFRAME.registerComponent('collider-check', {
  dependencies: ['raycaster'],

  init: function () {
    this.el.addEventListener('raycaster-intersected', function () {
      console.log('Player hit something!');
    });
  }
});</script>
-->

</head>
<body>
	<a-scene>
		<a-assets>
			<img id="boxTexture" src="{{ url_for('static',filename='images/box.jpg') }}">
			 <img id="skyTexture" src="{{ url_for('static',filename='images/360.png') }}">
       <img id="groundTexture" src="{{ url_for('static',filename='images/floor.jpg') }}">
        <img id="car" src="{{ url_for('static',filename='images/car.jpg') }}">
       <!--
       
       <a-asset-item id="tree-obj" src="{{ url_for('static',filename='obj3D/car.obj') }}"></a-asset-item>
     <a-asset-item id="tree-mtl" src="{{ url_for('static',filename='obj3D/car.mtl') }}"></a-asset-item>
<a-asset-item id="shixuntai-obj" src="{{ url_for('static',filename='obj3D/shixuntai1.obj') }}"></a-asset-item>
     <a-asset-item id="shixuntai-mtl" src="{{ url_for('static',filename='obj3D/shixuntai1.mtl') }}"></a-asset-item>
-->
     
    <a-asset-item id="car-gltf" src="{{ url_for('static',filename='obj3D/car/car.gltf') }}"></a-asset-item>
    <a-asset-item id="shixuntai-gltf" src="{{ url_for('static',filename='obj3D/shixuntai/shixuntai.gltf') }}"></a-asset-item>
     <video id="test" autoplay loop="true" src="{{ url_for('static',filename='video/test.mp4') }}"></video>
 

		</a-assets>
<!---
 <a-asset-item id="ev200-gltf" src="{{ url_for('static',filename='obj3D/ev200/ev200.gltf') }}"></a-asset-item>
   
          <a-mixin id="portal" scale="0.25 0.25 0.25"></a-mixin>
        <a-mixin id="portal-hovered" link="highlighted: true"></a-mixin>

<a-entity class="collidable" geometry="primitive: box" position="1 0 0"></a-entity>

-->

<a-entity id="player" collider-check>
  <a-entity raycaster="objects: .collidable"></a-entity>
</a-entity>


       <a-box color="#EF2D5E" position="10 1 -1" change-color></a-box>
       <a-box color="#EF2D5E" position="10 1 -3" handle-events></a-box>
<!--
		<a-box src="#boxTexture" position="10 2 -5" rotation="0 45 45" scale="2 2 2"  event-set__enter="_event: mouseenter; _target: #cylinderText; visible: true"
                event-set__leave="_event: mouseleave; _target: #cylinderText; visible: false">
			<a-text id="cylinderText" value="this is a cube" align="center" color="#FFF" visible="false" position="1 1 -0.5"
              geometry="primitive: plane; width: 1.75" material="color: #333"></a-text>
              <a-animation attribute="position" to="0 2.2 -5" direction="alternate" dur=2000 repeat="indefinite"></a-animation>
		</a-box>

-->
		<a-sky src="#skyTexture"></a-sky>
		<a-light type="ambient" color="#E3E3E3"></a-light>
		  <a-light type="point" intensity="2" position="2 4 4"></a-light>
        <a-plane src="#groundTexture" rotation="-90 0 0" width="30" height="30"></a-plane>
        <!--

 <a-text value="Hello" color="#BBB"
        position="-0.9 0.2 -3" scale="1.5 1.5 1.5"></a-text>


         <a-entity obj-model="obj: #tree-obj; mtl: #tree-mtl" position="4 0 -5" scale="0.001 0.001 0.001"></a-entity> 
 <a-entity obj-model="obj: #shixuntai-obj; mtl: #shixuntai-mtl" position="0 1 1" scale="0.001 0.001 0.001" rotation="90 270 90" event-set__enter="_event: mouseenter; _target:   #cylinderText1; visible: true" event-set__leave="_event: mouseleave; _target: #cylinderText1; visible: false" >
                  <a-text id="cylinderText1" value="this is shixuntai" align="center" color="#FFF" visible="false" position="1 1 -0.5"
              geometry="primitive: plane; width: 1.75" material="color: #333"></a-text>
                </a-entity>

       -->
          <a-entity gltf-model="#car-gltf" position="2 1 -5" scale="0.05 0.05 0.05" class="collidable"></a-entity>
          <a-entity gltf-model="#shixuntai-gltf" position="0 1 6" scale="0.5 0.5 0.5" rotation="90 180 0" class="collidable"></a-entity>
          
          <a-link href="{{ url_for('get_form') }}" title="car" position="-0.5 2 2"  rotation="0 90 0" image="#car">
          </a-link>

            <a-link href="{{ url_for('get_form1') }}" title="dianji" position="0 2 4" rotation="0 0 0" image="#car">
          </a-link>

                 <a-video src="#test" width="16" height="9" position="-11.7 4.7 -2.38"></a-video>

                 <a-videosphere src="#test" position="-15 4.7 4" radius="1"></a-videosphere>
       
        <!--
  <a-entity geometry="primitive: box" material="shader: flat; color: red"></a-entity>
      <a-entity gltf-model="#ev200-gltf" position="8 1 -10" scale="0.05 0.05 0.05" rotation="0 0 0" class="collidable"></a-entity>
              mixin="portal"
              onmouseover="this.setAttribute('link', {highlighted: true})"
              onmouseout="this.setAttribute('link', {highlighted: false})"
              rotation="0 0 0">



            <a-entity vive-controls="hand: left"> </a-entity>
            <a-entity vive-controls="hand: right">  
<a-entity vive-controls handle-events></a-entity>
             </a-entity>
   -->

   
    <a-entity laser-controls="hand: left" controller-cursor raycaster="showLine: true; far: 100" line="color: orange; opacity: 1">
</a-entity>
    <a-entity laser-controls="hand: right" controller-cursor raycaster="showLine: true; far: 100" line="color: orange; opacity: 1">
    </a-entity>
  
       
        <a-camera position="0 2 0"> 
        	<a-cursor></a-cursor>
        </a-camera>
	</a-scene>
</body>
</html> 